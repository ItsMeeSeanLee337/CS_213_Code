<html>
<head>
<title>CS 213 Spring 2022: Recitation 7</title>
<style>
body { font: 14px Trebuchet MS; }
pre { color: blue; }
tt { color: blue; }
a, a:active, a:visited { color: blue; }
</style>
</head><body>
<center><h2>Problem Set 7 - Solution</h2></center>
<center><h3>UML</h3></center>
<hr>
<ol>
<li>For each of the following pairs/groups of classes, show the most appropriate
relationship between them using UML. For associations, specify 
multiplicities as well as directionality (unidirectional or bidirectional).
Each entity must have the minimal number of key attributes that characterize it.
<p>Also show code outlines for the classes involved, including fields that 
pertain to the associations between them, if any (i.e. connections that are not
super-sub or interface implementations). It doesn't matter exactly
what data structure you use for fields that are collections--that is something
that can be refined at implementation time, and does not change the UML.
(Remember, the UML is language-independent, and different languages may
offer different options of data structures.)

<ol>
<li><tt>Entry</tt>-<tt>Contributor</tt> in Wikipedia. 
<p><b>ANSWER</b>
<p><pre>
            1..*           1..* 
      Entry ------------------- Contributor
                    |
                    |
               Contribution


      public class Entry {             
         String title;
         String lastUpdateDate;
         List&lt;Contributor> contributors;
         ...
      }

      public class Contributor {
         String name;
         List&lt;Entry> entries;
         ...
      }

      public class Contribution {
         Entry entry;
         Contributor contributor;
         int numWords;
         String lastUpdateDate;
      }
</pre>
Since every entry has several contributors, and each contributor's
association with an entry has particular data tied to it, there is
a need for an association class that can hold such data. The
assocation class must have fields for the entities that are related
via that class, i.e. <tt>Entry</tt> and <tt>Contributor</tt>

<p><li><tt>Member--Seller--Bidder</tt> on eBay.
<p><b>ANSWER</b>
<p>Seller and Bidder are temporary roles played by Member. Which means these
classes should not subclass from Member. Instead, they both delegate
Member functions to a contained Member object.
<p><pre>

             1      1          1       1
      Seller --------> Member <--------- Bidder

      public class Member {
         String username;
         ...
      }
      
      public class Seller {
         Member member;
         int rating;
         ...
      }

      public class Bidder {
         Member member;
         ...
      }
</pre>

<p><li><tt>Item</tt>-<tt>Bidder</tt> on eBay.
<p><b>ANSWER</b>
<p><pre>

           1..*           1..* 
      Item ------------------- Bidder
                    |
                    |
                   Bid

      public class Item {             
         String name;
         String id;
         Currency highestBid;
         Bidder highestBidder;
         List&lt;Bidder> bidders;
         ...
      }

      public class Bidder {
         Member member;
         List&lt;Item> bids;

      public class Bid {
         Item item;
         Bidder bidder;
         Currency bidAmount;
         ...
      }
</pre>
Since each bid has particular information that needs to be maintained,
there is a need for an association class that can hold this info.
The assocation class must have fields for the entities that are related
via that class, i.e. <tt>Item</tt> and <tt>Bidder</tt>

</ol>

<hr>

<li>
<p>Suppose you are working on an Instagram software project.
(If you are not familiar with it, see https://www.instagram.com, it is a social network service like Facebook). You are required to draw up a small portion of the
UML, to describe relationships between users, the content they post (photos or
videos, but could be other kinds), and tags they can apply to content (such
as '@' or #' tags, but there could be others.)

<p><b>SOLUTION</b> - See UML posted separately.

<hr>

</li><li>Class Diagram for Building a Room
<p>We want to create a class diagram for building a Room that can contain Walls, Furniture and Windows.
 

</p><p><ol>
<li>The Drawable is an interface which is implemented in the Class Room
</li><li>Class Room is a composition of Structures and Furniture (one Room can be composed by multiple Structures and Furniture. A Structure or a Furniture though cannot belong to more than one Room) 
</li><li>A Structure is a general Class which passes its attributes to the classes that inherit from it (i.e. a Window and a Wall is a structure)
</li><li>Class Couch is inheriting from class Furniture (which means that a couch is a Furniture)
</li><li>Windows and Walls inherit from Structure (which means that a Windows and a Wall has all the functionality of a Structure plus some added functionality implemented inside each of these classes)
</li><li>We can create more classes that inherit from Furniture and compose the Room.</li></ol>
</p>
<p><b>SOLUTION</b> - See UML posted separately.

</ol>	    
</body></html>
